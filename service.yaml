spec:
  containers:
  - name: frontend
    image: /<database>/applications/<repo>/flux_ops_center:latest
    env:
      SNOWFLAKE_WAREHOUSE: <your_warehouse>
      VITE_POSTGRES_HOST: <your_postgres_instance>.postgres.snowflake.app
      VITE_POSTGRES_PORT: "5432"
      VITE_POSTGRES_DATABASE: postgres
      VITE_POSTGRES_USER: <your_username>
      VITE_POSTGRES_PASSWORD: <your_password>
    resources:
      requests:
        memory: 2Gi
        cpu: "2"
      limits:
        memory: 4Gi
        cpu: "4"
    readinessProbe:
      port: 8080
      path: /
  
  endpoints:
  - name: ui
    port: 8080
    public: true
  
  # High availability: Keep minimum 2 instances always running
  # This eliminates cold start delays (30-45s) on every restart
  min_instances: 2
  max_instances: 5
