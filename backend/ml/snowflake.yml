definition_version: 2

# NOTE: Database/schema values below are defaults. Override via deploy.sh or CLI flags:
#   SNOWFLAKE_DATABASE=MY_DB ./deploy.sh my_connection
#   snow notebook deploy ... --database MY_DB --schema ML_DEMO

entities:
  transformer_failure_prediction:
    type: notebook
    identifier:
      name: TRANSFORMER_FAILURE_PREDICTION
      schema: ML_DEMO
      database: FLUX_DB  # Default - override via --database flag
    query_warehouse: FLUX_WH
    notebook_file: transformer_failure_prediction.ipynb
    
    # Dedicated ML Compute Pool with GPU (NVIDIA A10G)
    compute_pool: ML_DATA_SCIENCE_POOL
    runtime_name: SYSTEM$GPU_RUNTIME
    
    # NOTE: External access configured via SQL:
    # ALTER NOTEBOOK ... SET EXTERNAL_ACCESS_INTEGRATIONS = (PYPI_ACCESS_INTEGRATION)
    
    artifacts:
      - transformer_failure_prediction.ipynb
      - requirements.txt
